<% include ../core/header %>

<!-- Page Content -->
<div class="container" style="padding-bottom: 20px;">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h2>MongoDB Tutorial</h2>
            <p class="lead">Create</p>

            <form method="post" action="/mongo/create" class="limit-width" onsubmit="return checkForm(this)">
                <div class="form-group">
                    <h3 class="text-left">Type</h3>
                    <select class="form-control" name="type">
                            <option default>msg</option>
                            <option>join</option>
                            <option>leave</option>
                    </select>
                </div>
                <div class="form-group">
                    <h3 class="text-left">Name</h3>
                    <input type="text" class="form-control" name="name">
                </div>
                <div class="form-group">
                    <h3 class="text-left">Message</h3>
                    <input type="text" class="form-control" name="msg">
                </div>
                <input type="submit" class="btn btn-primary btn-block" value="Submit">
            </form>
        </div>
    </div>
</div><!-- /.container -->

<script>
    function checkForm(form) {
        let res = 1
        for (let i = 0; i < form.elements.length; i++)
            if (form.elements[i].type == "text")
                res *= form.elements[i].value.length
        return res !== 0
    }
</script>

<% include ../core/footer %>
