<% include ../core/header %>

<!-- Page Content -->
<div class="container" style="padding-bottom: 20px;">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h2>MongoDB Tutorial</h2>
            <p class="lead">Update</p>

            <% if (edit) { %>
                <form method="post" action="/mongo/update/<%= data._id %>" class="limit-width" onsubmit="return checkForm(this)">
                    <div class="form-group">
                        <h3 class="text-left">Type</h3>
                        <select class="form-control" name="type">
                                <option>msg</option>
                                <option>join</option>
                                <option>leave</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <h3 class="text-left">Name</h3>
                        <input type="text" class="form-control" name="name" value="<%= data.name %>">
                    </div>
                    <div class="form-group">
                        <h3 class="text-left">Message</h3>
                        <input type="text" class="form-control" name="msg"value="<%= data.msg %>">
                    </div>
                    <input type="submit" class="btn btn-primary btn-block" value="Submit">
                </form>
                <script>
                    document.getElementsByTagName("select")[0].value = "<%= data.type %>"
                </script>
            <% } else {
                if (typeof data === "undefined" ? undefined : data) {
                    for(let i = 0; i < data.length; i++) { %>
                    <a href="/mongo/update/<%= data[i]._id %>" class="no-deco"><pre><%= JSON.stringify(data[i], null, 4) %></pre></a>
                    <% }
                }
            } %>
        </div>
    </div>
</div><!-- /.container -->

<style>
    a.no-deco:hover, a.no-deco:focus {
        text-decoration: none;
    }
</style>

<% include ../core/footer %>
